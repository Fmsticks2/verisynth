import{_ as Ee}from"./index-5c471e67.js";const _e=Symbol(),q=Object.getPrototypeOf,z=new WeakMap,pe=e=>e&&(z.has(e)?z.get(e):q(e)===Object.prototype||q(e)===Array.prototype),Ae=e=>pe(e)&&e[_e]||null,ee=(e,t=!0)=>{z.set(e,t)},B=e=>typeof e=="object"&&e!==null,V=new WeakMap,J=new WeakSet,Te=(e=Object.is,t=(n,T)=>new Proxy(n,T),s=n=>B(n)&&!J.has(n)&&(Array.isArray(n)||!(Symbol.iterator in n))&&!(n instanceof WeakMap)&&!(n instanceof WeakSet)&&!(n instanceof Error)&&!(n instanceof Number)&&!(n instanceof Date)&&!(n instanceof String)&&!(n instanceof RegExp)&&!(n instanceof ArrayBuffer),o=n=>{switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:throw n}},l=new WeakMap,c=(n,T,u=o)=>{const O=l.get(n);if((O==null?void 0:O[0])===T)return O[1];const C=Array.isArray(n)?[]:Object.create(Object.getPrototypeOf(n));return ee(C,!0),l.set(n,[T,C]),Reflect.ownKeys(n).forEach(G=>{if(Object.getOwnPropertyDescriptor(C,G))return;const h=Reflect.get(n,G),D={value:h,enumerable:!0,configurable:!0};if(J.has(h))ee(h,!1);else if(h instanceof Promise)delete D.value,D.get=()=>u(h);else if(V.has(h)){const[m,x]=V.get(h);D.value=c(m,x(),u)}Object.defineProperty(C,G,D)}),Object.preventExtensions(C)},p=new WeakMap,_=[1,1],W=n=>{if(!B(n))throw new Error("object required");const T=p.get(n);if(T)return T;let u=_[0];const O=new Set,C=(r,a=++_[0])=>{u!==a&&(u=a,O.forEach(i=>i(r,a)))};let G=_[1];const h=(r=++_[1])=>(G!==r&&!O.size&&(G=r,m.forEach(([a])=>{const i=a[1](r);i>u&&(u=i)})),u),D=r=>(a,i)=>{const A=[...a];A[1]=[r,...A[1]],C(A,i)},m=new Map,x=(r,a)=>{if(O.size){const i=a[3](D(r));m.set(r,[a,i])}else m.set(r,[a])},K=r=>{var a;const i=m.get(r);i&&(m.delete(r),(a=i[1])==null||a.call(i))},de=r=>(O.add(r),O.size===1&&m.forEach(([i,A],j)=>{const Z=i[3](D(j));m.set(j,[i,Z])}),()=>{O.delete(r),O.size===0&&m.forEach(([i,A],j)=>{A&&(A(),m.set(j,[i]))})}),F=Array.isArray(n)?[]:Object.create(Object.getPrototypeOf(n)),w=t(F,{deleteProperty(r,a){const i=Reflect.get(r,a);K(a);const A=Reflect.deleteProperty(r,a);return A&&C(["delete",[a],i]),A},set(r,a,i,A){const j=Reflect.has(r,a),Z=Reflect.get(r,a,A);if(j&&(e(Z,i)||p.has(i)&&e(Z,p.get(i))))return!0;K(a),B(i)&&(i=Ae(i)||i);let Y=i;if(i instanceof Promise)i.then(b=>{i.status="fulfilled",i.value=b,C(["resolve",[a],b])}).catch(b=>{i.status="rejected",i.reason=b,C(["reject",[a],b])});else{!V.has(i)&&s(i)&&(Y=W(i));const b=!J.has(Y)&&V.get(Y);b&&x(a,b)}return Reflect.set(r,a,Y,A),C(["set",[a],i,Z]),!0}});p.set(n,w);const Ie=[F,h,c,de];return V.set(w,Ie),Reflect.ownKeys(n).forEach(r=>{const a=Object.getOwnPropertyDescriptor(n,r);"value"in a&&(w[r]=n[r],delete a.value,delete a.writable),Object.defineProperty(F,r,a)}),w})=>[W,V,J,e,t,s,o,l,c,p,_],[Oe]=Te();function L(e={}){return Oe(e)}function y(e,t,s){const o=V.get(e);let l;const c=[],p=o[3];let _=!1;const n=p(T=>{if(c.push(T),s){t(c.splice(0));return}l||(l=Promise.resolve().then(()=>{l=void 0,_&&t(c.splice(0))}))});return _=!0,()=>{_=!1,n()}}function Ce(e,t){const s=V.get(e),[o,l,c]=s;return c(o,l(),t)}const d=L({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),ce={state:d,subscribe(e){return y(d,()=>e(d))},push(e,t){e!==d.view&&(d.view=e,t&&(d.data=t),d.history.push(e))},reset(e){d.view=e,d.history=[e]},replace(e){d.history.length>1&&(d.history[d.history.length-1]=e,d.view=e)},goBack(){if(d.history.length>1){d.history.pop();const[e]=d.history.slice(-1);d.view=e}},setData(e){d.data=e}},E={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return E.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const e=navigator.userAgent.toLowerCase();return E.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},isArray(e){return Array.isArray(e)&&e.length>0},formatNativeUrl(e,t,s){if(E.isHttpUrl(e))return this.formatUniversalUrl(e,t,s);let o=e;o.includes("://")||(o=e.replaceAll("/","").replaceAll(":",""),o=`${o}://`),o.endsWith("/")||(o=`${o}/`),this.setWalletConnectDeepLink(o,s);const l=encodeURIComponent(t);return`${o}wc?uri=${l}`},formatUniversalUrl(e,t,s){if(!E.isHttpUrl(e))return this.formatNativeUrl(e,t,s);let o=e;o.endsWith("/")||(o=`${o}/`),this.setWalletConnectDeepLink(o,s);const l=encodeURIComponent(t);return`${o}wc?uri=${l}`},async wait(e){return new Promise(t=>{setTimeout(t,e)})},openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(E.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(E.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(E.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(E.WCM_VERSION,"2.6.2")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=(e=ce.state.data)==null?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},me=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),I=L({enabled:me,userSessionId:"",events:[],connectedWalletId:void 0}),fe={state:I,subscribe(e){return y(I.events,()=>e(Ce(I.events[I.events.length-1])))},initialize(){I.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(I.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){I.connectedWalletId=e},click(e){if(I.enabled){const t={type:"CLICK",name:e.name,userSessionId:I.userSessionId,timestamp:Date.now(),data:e};I.events.push(t)}},track(e){if(I.enabled){const t={type:"TRACK",name:e.name,userSessionId:I.userSessionId,timestamp:Date.now(),data:e};I.events.push(t)}},view(e){if(I.enabled){const t={type:"VIEW",name:e.name,userSessionId:I.userSessionId,timestamp:Date.now(),data:e};I.events.push(t)}}},N=L({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),f={state:N,subscribe(e){return y(N,()=>e(N))},setChains(e){N.chains=e},setWalletConnectUri(e){N.walletConnectUri=e},setIsCustomDesktop(e){N.isCustomDesktop=e},setIsCustomMobile(e){N.isCustomMobile=e},setIsDataLoaded(e){N.isDataLoaded=e},setIsUiLoaded(e){N.isUiLoaded=e},setIsAuth(e){N.isAuth=e}},P=L({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),M={state:P,subscribe(e){return y(P,()=>e(P))},setConfig(e){var t,s;fe.initialize(),f.setChains(e.chains),f.setIsAuth(!!e.enableAuthMode),f.setIsCustomMobile(!!((t=e.mobileWallets)!=null&&t.length)),f.setIsCustomDesktop(!!((s=e.desktopWallets)!=null&&s.length)),E.setModalVersionInStorage(),Object.assign(P,e)}};var ue=Object.defineProperty,te=Object.getOwnPropertySymbols,Ne=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable,se=(e,t,s)=>t in e?ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,he=(e,t)=>{for(var s in t||(t={}))Ne.call(t,s)&&se(e,s,t[s]);if(te)for(var s of te(t))Re.call(t,s)&&se(e,s,t[s]);return e};const Q="https://explorer-api.walletconnect.com",H="wcm",$="js-2.6.2";async function k(e,t){const s=he({sdkType:H,sdkVersion:$},t),o=new URL(e,Q);return o.searchParams.append("projectId",M.state.projectId),Object.entries(s).forEach(([l,c])=>{c&&o.searchParams.append(l,String(c))}),(await fetch(o)).json()}const g={async getDesktopListings(e){return k("/w3m/v1/getDesktopListings",e)},async getMobileListings(e){return k("/w3m/v1/getMobileListings",e)},async getInjectedListings(e){return k("/w3m/v1/getInjectedListings",e)},async getAllListings(e){return k("/w3m/v1/getAllListings",e)},getWalletImageUrl(e){return`${Q}/w3m/v1/getWalletImage/${e}?projectId=${M.state.projectId}&sdkType=${H}&sdkVersion=${$}`},getAssetImageUrl(e){return`${Q}/w3m/v1/getAssetImage/${e}?projectId=${M.state.projectId}&sdkType=${H}&sdkVersion=${$}`}};var We=Object.defineProperty,ne=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,ie=(e,t,s)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Le=(e,t)=>{for(var s in t||(t={}))be.call(t,s)&&ie(e,s,t[s]);if(ne)for(var s of ne(t))Ve.call(t,s)&&ie(e,s,t[s]);return e};const oe=E.isMobile(),R=L({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),Ze={state:R,async getRecomendedWallets(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=M.state;if(e==="NONE"||t==="ALL"&&!e)return R.recomendedWallets;if(E.isArray(e)){const s={recommendedIds:e.join(",")},{listings:o}=await g.getAllListings(s),l=Object.values(o);l.sort((c,p)=>{const _=e.indexOf(c.id),W=e.indexOf(p.id);return _-W}),R.recomendedWallets=l}else{const{chains:s,isAuth:o}=f.state,l=s==null?void 0:s.join(","),c=E.isArray(t),p={page:1,sdks:o?"auth_v1":void 0,entries:E.RECOMMENDED_WALLET_AMOUNT,chains:l,version:2,excludedIds:c?t.join(","):void 0},{listings:_}=oe?await g.getMobileListings(p):await g.getDesktopListings(p);R.recomendedWallets=Object.values(_)}return R.recomendedWallets},async getWallets(e){const t=Le({},e),{explorerRecommendedWalletIds:s,explorerExcludedWalletIds:o}=M.state,{recomendedWallets:l}=R;if(o==="ALL")return R.wallets;l.length?t.excludedIds=l.map(u=>u.id).join(","):E.isArray(s)&&(t.excludedIds=s.join(",")),E.isArray(o)&&(t.excludedIds=[t.excludedIds,o].filter(Boolean).join(",")),f.state.isAuth&&(t.sdks="auth_v1");const{page:c,search:p}=e,{listings:_,total:W}=oe?await g.getMobileListings(t):await g.getDesktopListings(t),n=Object.values(_),T=p?"search":"wallets";return R[T]={listings:[...R[T].listings,...n],total:W,page:c??1},{listings:n,total:W}},getWalletImageUrl(e){return g.getWalletImageUrl(e)},getAssetImageUrl(e){return g.getAssetImageUrl(e)},resetSearch(){R.search={listings:[],total:0,page:1}}},v=L({open:!1}),X={state:v,subscribe(e){return y(v,()=>e(v))},async open(e){return new Promise(t=>{const{isUiLoaded:s,isDataLoaded:o}=f.state;if(E.removeWalletConnectDeepLink(),f.setWalletConnectUri(e==null?void 0:e.uri),f.setChains(e==null?void 0:e.chains),ce.reset("ConnectWallet"),s&&o)v.open=!0,t();else{const l=setInterval(()=>{const c=f.state;c.isUiLoaded&&c.isDataLoaded&&(clearInterval(l),v.open=!0,t())},200)}})},close(){v.open=!1}};var De=Object.defineProperty,ae=Object.getOwnPropertySymbols,ge=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,re=(e,t,s)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,ye=(e,t)=>{for(var s in t||(t={}))ge.call(t,s)&&re(e,s,t[s]);if(ae)for(var s of ae(t))Se.call(t,s)&&re(e,s,t[s]);return e};function Ge(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const U=L({themeMode:Ge()?"dark":"light"}),le={state:U,subscribe(e){return y(U,()=>e(U))},setThemeConfig(e){const{themeMode:t,themeVariables:s}=e;t&&(U.themeMode=t),s&&(U.themeVariables=ye({},s))}},S=L({open:!1,message:"",variant:"success"}),Ue={state:S,subscribe(e){return y(S,()=>e(S))},openToast(e,t){S.open=!0,S.message=e,S.variant=t},closeToast(){S.open=!1}};class je{constructor(t){this.openModal=X.open,this.closeModal=X.close,this.subscribeModal=X.subscribe,this.setTheme=le.setThemeConfig,le.setThemeConfig(t),M.setConfig(t),this.initUi()}async initUi(){if(typeof window<"u"){await Ee(()=>import("./index-98104a11.js"),["assets/index-98104a11.js","assets/index-5c471e67.js","assets/index-84a1c501.css"]);const t=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",t),f.setIsUiLoaded(!0)}}}const we=Object.freeze(Object.defineProperty({__proto__:null,WalletConnectModal:je},Symbol.toStringTag,{value:"Module"}));export{fe as R,ce as T,E as a,we as i,le as n,Ue as o,f as p,X as s,Ze as t,M as y};
//# sourceMappingURL=index-08559420.js.map
